---
layout: documentation
title: MH-P311 - ZWave
---

{% include base.html %}

# MH-P311 MCO Home Dimmer Switch
This describes the Z-Wave device *MH-P311*, manufactured by *[McoHome Technology Co., Ltd](http://www.mcohome.com/)* with the thing type UID of ```mcohome_mhp311_00_000```.

The device is in the category of *Wall Switch*, defining Any device attached to the wall that controls a binary status of something, for ex. a light switch.

![MH-P311 product image](https://opensmarthouse.org/zwavedatabase/929/image/)


The MH-P311 supports routing. This allows the device to communicate using other routing enabled devices as intermediate routers.  This device is also able to participate in the routing of data between other devices in the mesh network.

## Overview

<p&gtWall Dimmer Switch </p&gt

### Inclusion Information

<p&gtINCLUDING the device into Z-Wave network:</p&gt <ol&gt<li&gtSet the controller into INCLUSION mode. Follow instructions provided by controller manufacturer.</li&gt <li&gtPress the key on the panel 3 times in quick succession (within approx 1.5sec).</li&gt </ol&gt<p&gtNote: Check the controller or gateway to see whether inclusion is successful. </p&gt

### Exclusion Information

<p&gtEXCLUDING the device from Z-Wave network:</p&gt <ol&gt<li&gtSet the controller into EXCLUSION mode. Follow instructions provided by controller manufacturer.</li&gt <li&gtPress the key on the panel 3 times in quick succession (within approx 1.5sec).</li&gt </ol&gt<p&gtNote: Check the controller or gateway to see whether exclusion is successful. The exclusion will delete all association data. </p&gt

## Channels

The following table summarises the channels available for the MH-P311 -:

| Channel Name | Channel ID | Channel Type | Category | Item Type |
|--------------|------------|--------------|----------|-----------|
| Dimmer | switch_dimmer | switch_dimmer | DimmableLight | Dimmer | 
| Scene Number | scene_number | scene_number |  | Number | 

### Dimmer
The brightness channel allows to control the brightness of a light.
            It is also possible to switch the light on and off.

The ```switch_dimmer``` channel is of type ```switch_dimmer``` and supports the ```Dimmer``` item and is in the ```DimmableLight``` category.

### Scene Number
Triggers when a scene button is pressed.

The ```scene_number``` channel is of type ```scene_number``` and supports the ```Number``` item.



## Device Configuration

The following table provides a summary of the 19 configuration parameters available in the MH-P311.
Detailed information on each parameter can be found in the sections below.

| Param | Name  | Description |
|-------|-------|-------------|
| 1 | State Saved? | Dimmer state saved or not when power down |
| 2 | Beep | Beep |
| 3 | LED Backlit Brightness Level | LED Backlit Brightness Level |
| 4 | ALL ON/ALL OFF | ALL ON/ALL OFF |
| 5 | Minimum brightness level | Minimum brightness level |
| 6 | Maximum brightness level | Maximum brightness level |
| 7 | Single dimming step time(Manual) | Single dimming step time(Manual) |
| 8 | Single dimming step size(Manual) | Single dimming step time(Manual) |
| 9 | Single dimming step time (Auto) | Single dimming step time (Auto) |
| 10 | Single dimming step size (Auto) | Single dimming step size (Auto) |
| 11 | Timer function (Auto-off) | Timer function (Auto-off) |
| 13 | One click of S1 | One click of S1 |
| 14 | Double click of S1 | Double click of S1 |
| 15 | Switch1 to Association Group 2 & 3 | Operation report from Switch1 to Association Group 2 & 3 |
| 16 | Switch1 to Association Group 2 | Operation report from Switch1 to Association Group 2 |
| 19 | Scene ID sent to AG1 when one click of S1 | Scene ID sent to AG1 when one click of S1 |
| 20 | Scene ID sent to AG1 when double click of S1 | Scene ID sent to AG1 when double click of S1 |
| 21 | Scene ID sent to AG1 when hold S1 | Scene ID sent to AG1 when hold S1 |
| 255 | Factory setting | Factory setting |
|  | Switch All Mode | Set the mode for the switch when receiving SWITCH ALL commands |

### Parameter 1: State Saved?

Dimmer state saved or not when power down
<p&gt0x00 not saved，Dimmer will be off</p&gt <p&gtwhen powered again</p&gt <p&gt0x01 saved，Dimmer will keep the same</p&gt <p&gtstate when powered again</p&gt
Values in the range 0 to 1 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_1_1``` and is of type ```INTEGER```.


### Parameter 2: Beep

Beep
<p&gt0x00 Beep disabled</p&gt <p&gt0x01 Beep enabled</p&gt
Values in the range 0 to 1 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_2_1``` and is of type ```INTEGER```.


### Parameter 3: LED Backlit Brightness Level

LED Backlit Brightness Level
<p&gt0x00 LED disabled</p&gt <p&gt0x01~0x0A Min level-Max level</p&gt
Values in the range 0 to 10 may be set.

The manufacturer defined default value is ```10```.

This parameter has the configuration ID ```config_3_1``` and is of type ```INTEGER```.


### Parameter 4: ALL ON/ALL OFF

ALL ON/ALL OFF
<p&gt0x00 forbid ALL ON, forbid ALL OFF</p&gt <p&gt0x01 forbid ALL ON, allow ALL OFF</p&gt <p&gt0x02 allow ALL ON, forbid ALL OFF</p&gt <p&gt0xFF allow ALL ON, allow ALL OFF</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```255```.

This parameter has the configuration ID ```config_4_1``` and is of type ```INTEGER```.


### Parameter 5: Minimum brightness level

Minimum brightness level
<p&gt1~98 percentage brightness level</p&gt <p&gtThe max level should always higher than min level</p&gt
Values in the range 1 to 98 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_5_1``` and is of type ```INTEGER```.


### Parameter 6: Maximum brightness level

Maximum brightness level
<p&gt2~99 percentage brightness level</p&gt <p&gtThe max level should always higher than min level</p&gt
Values in the range 2 to 99 may be set.

The manufacturer defined default value is ```99```.

This parameter has the configuration ID ```config_6_1``` and is of type ```INTEGER```.


### Parameter 7: Single dimming step time(Manual)

Single dimming step time(Manual)
<p&gtMax 2.55s, in 10ms steps</p&gt <p&gtManual control realized by holding external 8 button</p&gt
Values in the range 1 to 2550 may be set.

The manufacturer defined default value is ```3```.

This parameter has the configuration ID ```config_7_2``` and is of type ```INTEGER```.


### Parameter 8: Single dimming step size(Manual)

Single dimming step time(Manual)
<p&gtSingle dimming step size(Manual)</p&gt
Values in the range 1 to 99 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_8_1``` and is of type ```INTEGER```.


### Parameter 9: Single dimming step time (Auto)

Single dimming step time (Auto)
<p&gtMax 2.55s, in 10ms steps</p&gt <p&gtAuto control</p&gt <p&gtrealized by:</p&gt <p&gt- one click;</p&gt <p&gt- double click of</p&gt <p&gtexternal button;</p&gt <p&gt- send Z-Wave CC</p&gt
Values in the range 1 to 2550 may be set.

The manufacturer defined default value is ```3```.

This parameter has the configuration ID ```config_9_2``` and is of type ```INTEGER```.


### Parameter 10: Single dimming step size (Auto)

Single dimming step size (Auto)
<p&gtAuto control</p&gt <p&gtrealized by:</p&gt <p&gt- one click;</p&gt <p&gt- double click of</p&gt <p&gtexternal button;</p&gt <p&gt- send Z-Wave CC</p&gt
Values in the range 1 to 99 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_10_1``` and is of type ```INTEGER```.


### Parameter 11: Timer function (Auto-off)

Timer function (Auto-off)
<p&gt0x00 function disabled</p&gt <p&gt0x0001~0x00FF 1s~255s</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```0```.

This parameter has the configuration ID ```config_11_2``` and is of type ```INTEGER```.


### Parameter 13: One click of S1

One click of S1
<p&gt0x00 switch between Off and last saved</p&gt <p&gtbrightness level</p&gt <p&gt1~99 percentage value</p&gt <p&gtswitch between Off and the set value</p&gt
Values in the range 0 to 99 may be set.

The manufacturer defined default value is ```99```.

This parameter has the configuration ID ```config_13_1``` and is of type ```INTEGER```.


### Parameter 14: Double click of S1

Double click of S1
<p&gt0x00 function disabled</p&gt <p&gt0x01 reach max brightness level</p&gt
Values in the range 0 to 1 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_14_1``` and is of type ```INTEGER```.


### Parameter 15: Switch1 to Association Group 2 & 3

Operation report from Switch1 to Association Group 2 & 3
<p&gtbit 6:0</p&gt <p&gt0x00 report all operation to AG2&3</p&gt <p&gt0x01 only report when switching OFF</p&gt <p&gt0x02 only report when switching ON</p&gt <p&gtbit7 (valid for AG3 during dimming only)</p&gt <p&gt0 not report during dimming</p&gt <p&gt1 report during dimming</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```0```.

This parameter has the configuration ID ```config_15_1``` and is of type ```INTEGER```.


### Parameter 16: Switch1 to Association Group 2

Operation report from Switch1 to Association Group 2
<p&gt0x00 When sent Basic Set On,</p&gt <p&gtcarried Value is 0xFF</p&gt <p&gt0x01 When sent Basic Set On, carried</p&gt <p&gtValue is Current Dimmer Value</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```1```.

This parameter has the configuration ID ```config_16_1``` and is of type ```INTEGER```.


### Parameter 19: Scene ID sent to AG1 when one click of S1

Scene ID sent to AG1 when one click of S1
<p&gt0 Scene Activation disabled</p&gt <p&gt1~255 send Activation CC to AG1 with</p&gt <p&gtspecified Scene ID</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```0```.

This parameter has the configuration ID ```config_19_1``` and is of type ```INTEGER```.


### Parameter 20: Scene ID sent to AG1 when double click of S1

Scene ID sent to AG1 when double click of S1
<p&gt0 Scene Activation disabled</p&gt <p&gt1~255 send Activation CC to AG1 with</p&gt <p&gtspecified Scene ID</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```0```.

This parameter has the configuration ID ```config_20_1``` and is of type ```INTEGER```.


### Parameter 21: Scene ID sent to AG1 when hold S1

Scene ID sent to AG1 when hold S1
<p&gt0 Scene Activation disabled</p&gt <p&gt1~255 send Activation CC to AG1 with</p&gt <p&gtspecified Scene ID</p&gt
Values in the range 0 to 255 may be set.

The manufacturer defined default value is ```0```.

This parameter has the configuration ID ```config_21_1``` and is of type ```INTEGER```.


### Parameter 255: Factory setting

Factory setting
<p&gt0x55 restore factory setting</p&gt
Values in the range 85 to 85 may be set.

The manufacturer defined default value is ```85```.

This parameter has the configuration ID ```config_255_1_wo``` and is of type ```INTEGER```.
This is a write only parameter.

### Switch All Mode

Set the mode for the switch when receiving SWITCH ALL commands.

The following option values may be configured -:
| Value  | Description |
|--------|-------------|
| 0 | Exclude from All On and All Off groups |
| 1 | Include in All On group |
| 2 | Include in All Off group |
| 255 | Include in All On and All Off groups |

This parameter has the configuration ID ```switchall_mode``` and is of type ```INTEGER```.


## Association Groups

Association groups allow the device to send unsolicited reports to the controller, or other devices in the network. Using association groups can allow you to eliminate polling, providing instant feedback of a device state change without unnecessary network traffic.

The MH-P311 supports 3 association groups.

### Group 1: Lifeline

The Lifeline association group reports device status to a hub and is not designed to control other devices directly. When using the Lineline group with a hub, in most cases, only the lifeline group will need to be configured and normally the hub will perform this automatically during the device initialisation.
1st AG: reports device’s dimming state. It supports only one Node ID. A controller/gateway SHOULD be associated to this AG.

Association group 1 supports 1 node.

### Group 2: Basic Set Command

Basic Set Command
<p&gt2nd AG: to control the associated devices synchronously. When S1’s state changes, it will send “Basic Set Command” to these devices. It supports upto 5 Node IDs.</p&gt

Association group 2 supports 5 nodes.

### Group 3: Multi-level Set Command

<p&gtAG: to control the associated devices synchronously. When S1’s state changes, it will send</p&gt <p&gt“Multi-level Set Command” to these devices. It supports upto 5 Node IDs.</p&gt

Association group 3 supports 5 nodes.

## Technical Information

### Endpoints

#### Endpoint 0

| Command Class | Comment |
|---------------|---------|
| COMMAND_CLASS_NO_OPERATION_V1| |
| COMMAND_CLASS_BASIC_V1| |
| COMMAND_CLASS_SWITCH_MULTILEVEL_V2| Linked to BASIC|
| COMMAND_CLASS_SWITCH_ALL_V1| |
| COMMAND_CLASS_SCENE_ACTIVATION_V1| |
| COMMAND_CLASS_SCENE_ACTUATOR_CONF_V1| |
| COMMAND_CLASS_ASSOCIATION_GRP_INFO_V1| |
| COMMAND_CLASS_DEVICE_RESET_LOCALLY_V1| |
| COMMAND_CLASS_ZWAVEPLUS_INFO_V1| |
| COMMAND_CLASS_CONFIGURATION_V1| |
| COMMAND_CLASS_MANUFACTURER_SPECIFIC_V1| |
| COMMAND_CLASS_POWERLEVEL_V1| |
| COMMAND_CLASS_FIRMWARE_UPDATE_MD_V1| |
| COMMAND_CLASS_ASSOCIATION_V2| |
| COMMAND_CLASS_VERSION_V2| |

### Documentation Links

* [Manual](https://opensmarthouse.org/zwavedatabase/929/MH-P311.pdf)

---

Did you spot an error in the above definition or want to improve the content?
You can [contribute to the database here](https://opensmarthouse.org/zwavedatabase/929).
