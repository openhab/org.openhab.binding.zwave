<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="http://eclipse.org/smarthome/schemas/thing-description/v1.0.0
                      http://eclipse.org/smarthome/schemas/thing-description/v1.0.0">

  <thing-type id="shenzhen_powerplug_00_000" listed="false">
    <label>Power Plug Metered Wall Plug Switch</label>
    <description><![CDATA[
Metered Wall Plug Switch<br /><h1>Overview</h1><p>This Plug provides line voltage, current load, power consumption and energy</p> <p>consumption measuring. </p> <p><strong>Voltage</strong> – The Supply Power Voltage For Plug.</p> <p><strong>Current</strong> – The Current for the Electric Device Connect to Plug Consumption.</p> <p><strong>Power</strong> – Power Consumed by an Electric Device in an instant, unit: Watt (W).</p> <p><strong>Energy</strong> – Energy Consumed by an Electric Device through a Time Period. Most</p> <p>commonly measured in Kilowatt-hours (kWh). One kilowatt-hour is Equal to One</p> <p>Kilowatt of Power Consumed over a Period of One Hour, 1kWh = 1000Wh.0Wh.</p> <br /><h2>Inclusion Information</h2><p>1) Plug the power plug in the socket. Make sure the device is located within the direct</p> <p>range of the main controller.</p> <p>2) Set the main controller to the learning mode</p> <p>3) Quickly, triple click the code button, the device will enter inclusion mode, and the</p> <p>LED light will flash red and yellow five times .</p> <p>4) Power plug will be detected and added to the Z-Wave network.</p> <p>5) Wait for the main controller to configure the sensor.</p> <br /><h2>Exclusion Information</h2><p>1) Make sure the sensor is connected to power source.</p> <p>2) Set the main controller to the learning mode</p> <p>3) Quickly, triple click the code button, LED light will flash red and yellow five</p> <p>times.</p> <p>4) Wait for the main controller to delete the sensor</p>
    ]]></description>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="switch_binary" typeId="switch_binary">
        <label>Switch</label>
        <properties>
          <property name="binding:*:OnOffType">SWITCH_BINARY,BASIC</property>
        </properties>
      </channel>
      <channel id="meter_current" typeId="meter_current">
        <label>Electric meter (amps)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_A</property>
        </properties>
      </channel>
      <channel id="meter_kwh" typeId="meter_kwh">
        <label>Electric meter (kWh)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="meter_watts" typeId="meter_watts">
        <label>Electric meter (watts)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_voltage" typeId="meter_voltage">
        <label>Electric meter (volts)</label>
        <properties>
          <property name="binding:*:DecimalType">METER;type=E_V</property>
        </properties>
      </channel>
      <channel id="alarm_power" typeId="alarm_power">
        <label>Alarm (power)</label>
        <properties>
          <property name="binding:*:OnOffType">ALARM;type=POWER_MANAGEMENT</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">Shenzhen Neo Electronics</property>
      <property name="modelId">Power Plug</property>
      <property name="manufacturerId">0258</property>
      <property name="manufacturerRef">0003:1087</property>
      <property name="defaultAssociations">2</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- PARAMETER DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter name="config_1_1" type="integer" groupName="configuration">
        <label>1: Meter Report Enable</label>
        <description>This parameter defines Disable/Enable meter report measure data to controller.</description>
        <default>1</default>
        <options>
          <option value="0">Disable Report</option>
          <option value="1">Enable Report</option>
        </options>
      </parameter>

      <parameter name="config_2_2" type="integer" groupName="configuration"
                 min="1" max="65535">
        <label>2: Meter Report Interval</label>
        <description>This parameter defines interval time (in seconds) that Meter report data to main controller.</description>
        <default>300</default>
      </parameter>

      <parameter name="config_3_1" type="integer" groupName="configuration"
                 min="1" max="16">
        <label>3: Maxium over-load current</label>
        <description>This parameter defines maximum current the plug can provide to load that be connected to plug. If the current consumed by load greater than maximum current, the plug will cut off power.</description>
        <default>13</default>
      </parameter>

      <parameter name="config_4_1" type="integer" groupName="configuration"
                 min="1" max="15">
        <label>4: Maximum alarm current</label>
        <description>Defines maximum current, if the current plug provide to load great than this parameter, the plug will send over-current notification to main controller and the LED will be turn RED, but plug cannot cut-off power. Value must be less than parameter 3#.</description>
        <default>12</default>
      </parameter>

      <parameter name="config_5_1" type="integer" groupName="configuration">
        <label>5: LED enable</label>
        <description>This parameter defines the LED indication Function ON/OFF.</description>
        <default>1</default>
        <options>
          <option value="0">Disable LED indication Function</option>
          <option value="1">Enable LED indication Function</option>
        </options>
      </parameter>

      <parameter name="config_6_1" type="integer" groupName="configuration"
                 min="1" max="100">
        <label>6: Power Report Threshold</label>
        <description>How much the power consumed must change to be reported. If the rate of power consumed change ratio is greater than this parameter, the plug will report the results, voltage, current, power and energy.</description>
        <default>30</default>
      </parameter>

      <parameter name="config_7_1" type="integer" groupName="configuration"
                 min="0" max="255">
        <label>7: Remember Relay ON/OFF status after power failure.</label>
        <description>Define how will the Plug react after the power supply is back on. 0 = will be off after the power supply is reconnected. Others = remember relay status</description>
        <default>255</default>
      </parameter>

      <parameter name="config_8_1" type="integer" groupName="configuration">
        <label>8: Plug Time switch Function</label>
        <description>Defines if the timer function is enabled/disabled to switch the Plug OFF after the time period, which is defined in parameter 9#.</description>
        <default>0</default>
        <options>
          <option value="0">Time switch Disable</option>
          <option value="1">Time switch Enable</option>
        </options>
      </parameter>

      <parameter name="config_9_2" type="integer" groupName="configuration"
                 min="1" max="65535">
        <label>9: Time switch Period</label>
        <description>This parameter defines the time after the plug is switched off. If Parameter 9# is set to ‘1’, and relay is turn ON, the relay will be turn OFF after delay this parameter.</description>
        <default>150</default>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <parameter name="group_1" type="text" groupName="association" multiple="true">
        <label>1: Group 1</label>
        <description>is assigned to Plugs status - On/Off. Allows for receiving control command from trigger devices whenever the Plug is turned On or Off.</description>
        <multipleLimit>16</multipleLimit>
      </parameter>

      <parameter name="group_2" type="text" groupName="association">
        <label>2: Group 2</label>
        <description>reports relay's status to just one device, Z-Wave network's main controller by default. It's not recommended to modify settings of this association group.</description>
      </parameter>

    </config-description>

  </thing-type>
</thing:thing-descriptions>
