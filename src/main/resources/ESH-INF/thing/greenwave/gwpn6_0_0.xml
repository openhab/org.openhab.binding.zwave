<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0
                      https://openhab.org/schemas/thing-description/v1.0.0">

  <thing-type id="greenwave_gwpn6_00_000" listed="false">
    <label>GWPN6 Multi-socket PowerNode (6-plug)</label>
    <description>Multi-socket PowerNode (6-plug)&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtThis Configuration is for the 6 plug version of the PowerNode.&lt;/p&gt &lt;p&gtIt should work for both NP210 and NP310 devices (except &lt;em&gtNP210&lt;/em&gt-G-EN which is 5-port UK version).&lt;/p&gt &lt;br /&gt&lt;h2&gtInclusion Information&lt;/h2&gt&lt;p&gtOn the PowerNode, press and hold the &lt;strong&gtSync&lt;/strong&gtÂ button for approximately one second until the activity indicator displays a clockwise rotating pattern. This indicates the PowerNode is attempting inclusion. During this process, verify that the Gateway activity indicator still displays a clockwise rotating pattern.&lt;/p&gt &lt;p&gtAfter a few seconds, the rotating pattern on both the PowerNode and the Gateway stops. All bars turn green forming a circle for several seconds. This indicates a successful inclusion.&lt;/p&gt &lt;p&gtIf all bars on the activity indicator start flashing instead of forming a solid circle, then the PowerNode inclusion process has failed, and you must start the sync process again. If syncing continually fails even though the PowerNode is close to the Gateway, then it may be an indication of a hardware fault, and the PowerNode might need replacing.&lt;/p&gt &lt;br /&gt&lt;h2&gtExclusion Information&lt;/h2&gt&lt;p&gtOn the PowerNode, press and hold the &lt;strong&gtSync&lt;/strong&gt button for approximately one second until the PowerNode activity indicator begins to display a counter-clockwise rotating pattern. The PowerNode is attempting exclusion.&lt;/p&gt</description>
    <category>PowerOutlet</category>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="switch_binary" typeId="switch_binary">
        <label>Switch</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY,COMMAND_CLASS_BASIC</property>
        </properties>
      </channel>
      <channel id="meter_watts" typeId="meter_watts">
        <label>Electric meter (watts)</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh" typeId="meter_kwh">
        <label>Electric meter (kWh)</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="alarm_general" typeId="alarm_general">
        <label>Alarm</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_ALARM</property>
        </properties>
      </channel>
      <channel id="switch_binary1" typeId="switch_binary">
        <label>Switch 1</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:1,COMMAND_CLASS_BASIC:1</property>
        </properties>
      </channel>
      <channel id="meter_watts1" typeId="meter_watts">
        <label>Electric meter (watts) 1</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:1;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh1" typeId="meter_kwh">
        <label>Electric meter (kWh) 1</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:1;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary2" typeId="switch_binary">
        <label>Switch 2</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:2,COMMAND_CLASS_BASIC:2</property>
        </properties>
      </channel>
      <channel id="meter_watts2" typeId="meter_watts">
        <label>Electric meter (watts) 2</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:2;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh2" typeId="meter_kwh">
        <label>Electric meter (kWh) 2</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:2;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary3" typeId="switch_binary">
        <label>Switch 3</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:3,COMMAND_CLASS_BASIC:3</property>
        </properties>
      </channel>
      <channel id="meter_watts3" typeId="meter_watts">
        <label>Electric meter (watts) 3</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:3;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh3" typeId="meter_kwh">
        <label>Electric meter (kWh) 3</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:3;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary4" typeId="switch_binary">
        <label>Switch 4</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:4,COMMAND_CLASS_BASIC:4</property>
        </properties>
      </channel>
      <channel id="meter_watts4" typeId="meter_watts">
        <label>Electric meter (watts) 4</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:4;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh4" typeId="meter_kwh">
        <label>Electric meter (kWh) 4</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:4;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary5" typeId="switch_binary">
        <label>Switch 5</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:5,COMMAND_CLASS_BASIC:5</property>
        </properties>
      </channel>
      <channel id="meter_watts5" typeId="meter_watts">
        <label>Electric meter (watts) 5</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:5;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh5" typeId="meter_kwh">
        <label>Electric meter (kWh) 5</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:5;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="switch_binary6" typeId="switch_binary">
        <label>Switch 6</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY:6,COMMAND_CLASS_BASIC:6</property>
        </properties>
      </channel>
      <channel id="meter_watts6" typeId="meter_watts">
        <label>Electric meter (watts) 6</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:6;type=E_W</property>
        </properties>
      </channel>
      <channel id="meter_kwh6" typeId="meter_kwh">
        <label>Electric meter (kWh) 6</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER:6;type=E_KWh</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">GreenWave Reality Inc.</property>
      <property name="modelId">GWPN6</property>
      <property name="manufacturerId">0099</property>
      <property name="manufacturerRef">0003:0004,0003:0006</property>
      <property name="dbReference">100</property>
      <property name="commandClass:COMMAND_CLASS_MULTI_CHANNEL">useDestination=true</property>
      <property name="defaultAssociations">3</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- GROUP DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <!-- PARAMETER DEFINITIONS -->
      <parameter name="config_0_1" type="integer" groupName="configuration"
                 min="0" max="100">
        <label>0: Min. variation of load current</label>
        <description>Minimum variation in load current before a message is sent.&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtMinimum variation in load current before a message is sent. Value in percent (30 =&amp;amp;gt; 30%)&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>10</default>
      </parameter>

      <parameter name="config_1_1" type="integer" groupName="configuration"
                 min="0" max="255">
        <label>1: No communication light</label>
        <description>Duration (min) the device flashes after a communication error.&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtAfter how many minutes the GreenWave device should start flashing if the controller didn't communicate with this device.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>2</default>
      </parameter>

      <parameter name="config_2_1" type="integer" groupName="configuration" readOnly="true">
        <label>2: Wheel position</label>
        <description>Wheel position on the GreenWave device (read-only)</description>
        <default>0</default>
        <options>
          <option value="128">Black</option>
          <option value="129">Green</option>
          <option value="130">Dark Blue</option>
          <option value="131">Red</option>
          <option value="132">Yellow</option>
          <option value="133">Purple</option>
          <option value="134">Orange</option>
          <option value="135">Light Blue</option>
          <option value="136">Pink</option>
          <option value="137">Locked</option>
        </options>
      </parameter>

      <parameter name="config_3_1" type="integer" groupName="configuration">
        <label>3: Power-on state</label>
        <description>Default state after power loss</description>
        <default>2</default>
        <options>
          <option value="0">All OFF</option>
          <option value="1">Remember last state</option>
          <option value="2">All ON</option>
        </options>
      </parameter>

      <parameter name="config_4_1" type="integer" groupName="configuration">
        <label>4: LED for network error</label>
        <description>If the LED should indicate a network error by flashing or not</description>
        <default>1</default>
        <options>
          <option value="0">Disable the LED for network error</option>
          <option value="1">Enable the LED for network error</option>
        </options>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter name="group_1" type="text" groupName="association">
        <label>1: Wheel position change</label>
      </parameter>

      <parameter name="group_2" type="text" groupName="association">
        <label>2: Current leakage on relay</label>
      </parameter>

      <parameter name="group_3" type="text" groupName="association">
        <label>3: Power level change</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtThe new power reading is sent if the delta of the change is greater than the defined minimum variation.&lt;/p&gt</description>
      </parameter>

      <parameter name="group_4" type="text" groupName="association">
        <label>4: Over-current detection</label>
      </parameter>

      <!-- STATIC DEFINITIONS -->
      <parameter name="node_id" type="integer" min="1" max="232" readOnly="true" required="true">
        <label>Node ID</label>
        <advanced>true</advanced>
      </parameter>

    </config-description>

  </thing-type>

</thing:thing-descriptions>
