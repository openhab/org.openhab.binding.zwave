<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0
                      https://openhab.org/schemas/thing-description/v1.0.0">

  <thing-type id="fibaro_fgk101_02_005" listed="false">
    <label>FGK101 Door/Window Sensor</label>
    <description>Door/Window Sensor&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtThe Fibaro Door / Window Sensor is a wireless, battery powered, Z-Wave compatible reed sensor. Each time its two parts, i.e. the sensor's body and a magnet separate, a radio signal is sent. In addition the Fibaro Door / Window Sensor supports one DS18B20 temperature sensor and has one potential free input.&lt;/p&gt &lt;p&gtThe Fibaro Door / Window Sensor is designed for use with scenes in home automation systems and everywhere else where information related to opening / closing of doors, windows, garage gates, etc. is needed.&lt;/p&gt &lt;br /&gt&lt;h2&gtInclusion Information&lt;/h2&gt&lt;ol&gt&lt;li&gtPlace the device within direct range of the Z-Wave controller.&lt;/li&gt &lt;li&gtMake sure that Sensor’s cover is closed.&lt;/li&gt &lt;li&gtFind the TMP button located on the underside of the device, which allows for proper inclusion.&lt;/li&gt &lt;li&gtSet the main Z-Wave controller into the learning mode (see main controller’s operating manual).&lt;/li&gt &lt;li&gtQuickly, triple click the TMP button.&lt;/li&gt &lt;li&gtWait for the adding process to end.&lt;/li&gt &lt;li&gtSuccessful adding will be confirmed by the Z-Wave controller’s message.&lt;/li&gt &lt;/ol&gt&lt;p&gtAdding/removing will be confirmed by LED blinking. Fast blinking means that the inclusion process has not been successful.&lt;/p&gt &lt;br /&gt&lt;h2&gtExclusion Information&lt;/h2&gt&lt;ol&gt&lt;li&gtPlace the device within direct range of the Z-Wave controller.&lt;/li&gt &lt;li&gtMake sure that Sensor’s cover is closed.&lt;/li&gt &lt;li&gtFind the TMP button located on the underside of the device, which allows for proper inclusion.&lt;/li&gt &lt;li&gtSet the main Z-Wave controller into exclusion mode (see main controller’s operating manual).&lt;/li&gt &lt;li&gtQuickly, triple click the TMP button.&lt;/li&gt &lt;li&gtWait for the exclusion process to end.&lt;/li&gt &lt;li&gtSuccessful removing will be confirmed by the Z-Wave controller’s message.&lt;/li&gt &lt;/ol&gt&lt;br /&gt&lt;h2&gtWakeup Information&lt;/h2&gt&lt;p&gtFIBARO Door/Window Sensor needs to be woken up to receive information about the new configuration from the controller, like parameters and associations.&lt;/p&gt &lt;p&gtTo wake up the sensor manually triple click the TMP button located underside the casing.&lt;/p&gt</description>
    <category>Door</category>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="scene_number" typeId="scene_number">
        <label>Scene Number</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_SCENE_ACTIVATION</property>
        </properties>
      </channel>
      <channel id="sensor_door" typeId="sensor_door">
        <label>Door Sensor</label>
        <properties>
          <property name="binding:*:OpenClosedType">COMMAND_CLASS_SENSOR_BINARY</property>
        </properties>
      </channel>
      <channel id="battery-level" typeId="system.battery-level">
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_BATTERY</property>
        </properties>
      </channel>
      <channel id="alarm_co2" typeId="alarm_co2">
        <label>Alarm (CO2)</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SENSOR_ALARM;type=CARBON_DIOXIDE</property>
        </properties>
      </channel>
      <channel id="alarm_general" typeId="alarm_general">
        <label>Alarm (general)</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SENSOR_ALARM;type=GENERAL</property>
        </properties>
      </channel>
      <channel id="alarm_smoke" typeId="alarm_smoke">
        <label>Alarm (smoke)</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SENSOR_ALARM;type=SMOKE</property>
        </properties>
      </channel>
      <channel id="sensor_door1" typeId="sensor_door">
        <label>Door Sensor 1</label>
        <properties>
          <property name="binding:*:OpenClosedType">COMMAND_CLASS_SENSOR_BINARY:1</property>
        </properties>
      </channel>
      <channel id="sensor_temperature2" typeId="sensor_temperature">
        <label>Sensor (temperature) 2</label>
        <properties>
          <property name="binding:*:QuantityType">COMMAND_CLASS_SENSOR_MULTILEVEL:2;type=TEMPERATURE</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">Fibargroup</property>
      <property name="modelId">FGK101</property>
      <property name="manufacturerId">010F</property>
      <property name="manufacturerRef">0700:1000,0700:2000,0700:3000</property>
      <property name="versionMin">2.5</property>
      <property name="versionMax">2.5</property>
      <property name="dbReference">847</property>
      <property name="defaultAssociations">3</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- GROUP DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <!-- PARAMETER DEFINITIONS -->
      <parameter name="config_1_2" type="integer" groupName="configuration"
                 min="0" max="65535">
        <label>1: Input IN alarm cancellation delay</label>
        <description>Additional delay after an alarm from input IN1 has ceased.&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThe parameter allows you to specify additional time, after which the input no. 1 alarm is cancelled once its violation has ceased.    &amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
      </parameter>

      <parameter name="config_2_1" type="integer" groupName="configuration">
        <label>2: Status change signalled by LED</label>
        <default>1</default>
        <options>
          <option value="0">LED turned Off</option>
          <option value="1">LED turned On</option>
          <option value="255">No DS18B20 temperature sensor</option>
        </options>
      </parameter>

      <parameter name="config_3_1" type="integer" groupName="configuration">
        <label>3: Type of IN input</label>
        <description>Type of IN input&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtType of IN input&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">INPUT_NC (Normal Close)</option>
          <option value="1">INPUT_NO (Normal Open)</option>
          <option value="2">INPUT_MONOSTABLE</option>
          <option value="3">INPUT_BISTABLE</option>
        </options>
      </parameter>

      <parameter name="config_5_1" type="integer" groupName="configuration">
        <label>5: Type of control frame transmitted for group 1</label>
        <description>Type of transmitted control frame for association group 1&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThe parameter allows you to specify the type of an alarm frame or to force control frames transmission (BASIC_SET)&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable settings:&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt1&amp;lt;/b&amp;amp;gt – ALARM SMOKE frame&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt2&amp;lt;/b&amp;amp;gt – ALARM CO frame&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt3&amp;lt;/b&amp;amp;gt – ALARM CO2 frame&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt4&amp;lt;/b&amp;amp;gt – ALARM HEAT frame&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt5&amp;lt;/b&amp;amp;gt – ALARM WATER frame&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt255&amp;lt;/b&amp;amp;gt – Control frame BASIC_SET&amp;lt;br /&amp;amp;gtDefault setting: &amp;lt;strong&amp;amp;gt255&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>255</default>
        <options>
          <option value="1">ALARM SMOKE frame</option>
          <option value="2">ALARM CO frame</option>
          <option value="3">ALARM CO2 frame</option>
          <option value="4">ALARM HEAT frame</option>
          <option value="5">ALARM WATER frame</option>
          <option value="255">Control frame BASIC_SET</option>
        </options>
      </parameter>

      <parameter name="config_7_1" type="integer" groupName="configuration"
                 min="1" max="255">
        <label>7: Forced Level of Dimming group 1</label>
        <description>Parameter for dimming/opening blinds&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtValue of the parameter specifying the forced level of dimming/opening roller blinds when “switch on”/”open” commands are sent to devices from association group no.1. In case of alarm frames an alarm priority is specified.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtDefault value: &amp;lt;strong&amp;amp;gt255&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtPossible parameter settings: (&amp;lt;strong&amp;amp;gt1 – 99&amp;lt;/strong&amp;amp;gt) and &amp;lt;strong&amp;amp;gt255&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtValue of &amp;lt;strong&amp;amp;gt255&amp;lt;/strong&amp;amp;gt makes it possible to activate a device. In case of the Dimmer module it means activating the device and setting it to the previously stored condition, e.g. when Dimmer is set to 30%, deactivated and then reactivated using 255 commend, it will be automatically set to the previous condition i.e. 30%&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>255</default>
        <limitToOptions>false</limitToOptions>
      </parameter>

      <parameter name="config_9_1" type="integer" groupName="configuration">
        <label>9: Enable/Disable cancelling alarm</label>
        <description>Enable/Disable transmission of frame cancelling alarm&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtDeactivating transmission of the alarm cancelling frame or the control frame deactivating the device (Basic).&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtIt allows for disabling the function of deactivating the device and cancelling alarms for devices associated with IN input.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable parameter settings:&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt – for association group no. 1 information is sent&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt1&amp;lt;/strong&amp;amp;gt – for association group no. 1 information is not sent.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtDefault value: &amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtThe parameter cancels alarms only. Information on alarm violation or activation commands for devices from association groups are always sent.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Group no. 1 information is sent</option>
          <option value="1">Group no. 1 information is not sent</option>
        </options>
      </parameter>

      <parameter name="config_10_1" type="integer" groupName="configuration">
        <label>10: Tamper alarm</label>
        <description>Enable/disable tamper alarm&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtEnable/disable tamper alarm.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable settings:&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt0&amp;lt;/b&amp;amp;gt – Tamper alarm cancellation inactive&amp;lt;br /&amp;amp;gt&amp;lt;b&amp;amp;gt1&amp;lt;/b&amp;amp;gt – Tamper alarm cancellation active&amp;lt;br /&amp;amp;gtDefault setting: &amp;lt;strong&amp;amp;gt1&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>1</default>
        <options>
          <option value="0">Tamper alarm cancellation inactive</option>
          <option value="1">Tamper alarm cancellation active</option>
        </options>
      </parameter>

      <parameter name="config_12_1" type="integer" groupName="configuration"
                 min="0" max="255">
        <label>12: Sensitivity to temperature changes</label>
        <description>Sensitivity to temperature changes&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThe maximum acceptable difference between the last reported temperature and the current temperature read from the sensor. If the temperatures differ by the set value or more, a report with the current temperature value is sent to the device assigned to association group no. 3.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtDefault value: 8 [0.5 °C]&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable parameter settings:&amp;lt;strong&amp;amp;gt 0 – 255&amp;lt;/strong&amp;amp;gt [0 °C to 16 °C] [32 °F – 60.8 °F]&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt To set an appropriate parameter value use the following formula:&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtx = delta T x 16 - for Celsius&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtx = delta T x 80 / 9 - for Fahrenheit&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtx = parameter value&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtdelta T – maximum acceptable temperature gradient in Celsius or Fahrenheit&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtIf the value is set to 0: - if the wake-up interval is set to 255 seconds, temperature report will be sent according to the interval, - if the wake-up interval is set to over 255, temperature report will be sent each ca. 4 minutes.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>8</default>
        <limitToOptions>false</limitToOptions>
      </parameter>

      <parameter name="config_13_1" type="integer" groupName="configuration">
        <label>13: Transmitting the alarm or control frame broadcast</label>
        <description>Enabling/Disabling broadcast alarm for IN and TMP&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtSending an alarm or control frame (for IN input, depending on parameter no.5 value), and TMP button alarm frame. The frame is sent in “broadcast” mode, i.e. to all devices within range - information sent in this mode is not repeated by the mesh network.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtDefault value: &amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable parameter settings:&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt – IN and TMP Broadcast mode inactive,&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt1&amp;lt;/strong&amp;amp;gt – IN broadcast mode active, TMP broadcast mode inactive&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt2&amp;lt;/strong&amp;amp;gt – IN broadcast mode inactive, TMP broadcast mode active&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gt&amp;lt;strong&amp;amp;gt3&amp;lt;/strong&amp;amp;gt – IN and TMP broadcast mode active&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">IN and TMP Broadcast mode inactive</option>
          <option value="1">IN broadcast active, TMP broadcast inactive</option>
          <option value="2">IN broadcast inactive, TMP broadcast active</option>
          <option value="3">IN and TMP broadcast mode active</option>
        </options>
      </parameter>

      <parameter name="config_14_1" type="integer" groupName="configuration">
        <label>14: Scene activation</label>
        <description>Enable/Disable scene functionality&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThe device offers the possibility of sending commands compatible with Command class scene activation. Information is sent to devices assigned to association group no. 3&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtAvailable settings:&amp;lt;br /&amp;amp;gt&amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt – functionality deactivated&amp;lt;br /&amp;amp;gt&amp;lt;strong&amp;amp;gt1&amp;lt;/strong&amp;amp;gt – functionality activated&amp;lt;br /&amp;amp;gtDefault setting: &amp;lt;strong&amp;amp;gt0&amp;lt;/strong&amp;amp;gt&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtControllers such as the Home Center 2 are able to interpret such commands and based on these commands activate scenes, to which specific scene IDs have been assigned. The user may expand the functionality of a button connected to IN input by distinguishing the sequence of it being pushed. For example: double click would trigger the “goodnight” scene and triple click would trigger the “morning” scene. To fully use the possibilities offered by the parameter no.14 it is recommended to use a momentary or a toggle switch (parameter no.3).&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtScene ID is determined in the following manner:&amp;lt;br /&amp;amp;gtIN input:&amp;lt;br /&amp;amp;gtSwitch from “off” to “on” ID10&amp;lt;br /&amp;amp;gtSwitch from “on” to “off” ID11&amp;lt;br /&amp;amp;gtRemaining IDs are recognized correctly if the value of parameter no.3 was set to 2&amp;lt;br /&amp;amp;gtHolding down ID12&amp;lt;br /&amp;amp;gtReleasing ID13&amp;lt;br /&amp;amp;gtDouble click ID14&amp;lt;br /&amp;amp;gtTriple click ID15&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Disabled</option>
          <option value="1">Enabled</option>
        </options>
      </parameter>

      <parameter name="config_15_1" type="integer" groupName="configuration" readOnly="true">
        <label>15: DS18B20</label>
        <description>Status of DS18B20 sensor&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThe parameter value is automatically sent to the association group III if the connected sensor DS18B20 four times mistakenly read the temperature. In case of Wake Up Interval set for 4000 seconds temperature sensor will be checked every 5 minutes.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">DS18B20 is working properly</option>
          <option value="1">DS18B20 is not working properly</option>
          <option value="255">No DS18B20 temperature sensor</option>
        </options>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter name="group_1" type="text" groupName="association" multiple="true">
        <label>1: Input IN1</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtGroup I is assigned to input IN1 (and the magnetic sensor). Sending BASIC SET or ALARM command frames.&lt;/p&gt</description>
        <multipleLimit>5</multipleLimit>
      </parameter>

      <parameter name="group_2" type="text" groupName="association" multiple="true">
        <label>2: TMP Button</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtGroup II is assigned to TMP button. Once the button is released, ALARM GENERIC frame is sent to associated devices.&lt;/p&gt</description>
        <multipleLimit>5</multipleLimit>
      </parameter>

      <parameter name="group_3" type="text" groupName="association">
        <label>3: Condition</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtGroup III reports on the condition of the device, only one device may be assigned to the group (main controller, by default).&lt;/p&gt</description>
      </parameter>

      <!-- STATIC DEFINITIONS -->
      <parameter name="node_id" type="integer" min="1" max="232" readOnly="true" required="true">
        <label>Node ID</label>
        <advanced>true</advanced>
      </parameter>

    </config-description>

  </thing-type>

</thing:thing-descriptions>
