<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0
                      https://openhab.org/schemas/thing-description/v1.0.0">

  <thing-type id="graber_rsz1_00_000" listed="false">
    <label>RSZ1 Somfy Motorized Shade</label>
    <description>Somfy Motorized Shade&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtThe Graber/Bali two-button remote allows up/down/stop control over a single shade or group of shades and acts as a secondary controller/remote.&lt;/p&gt &lt;br /&gt&lt;h2&gtInclusion Information&lt;/h2&gt&lt;p&gtTo operate as a secondary controller on a Z-Wave network, the following steps must be performed in order:&lt;/p&gt &lt;ol&gt&lt;li&gt Reset the remote (unassociate it from the blind/shade)&lt;/li&gt &lt;li&gt Include the blind/shade to the Z-Wave network&lt;/li&gt &lt;li&gt Include the remote in the Z-Wave network&lt;/li&gt &lt;li&gtAssociate the remote to the blind/shade&lt;/li&gt &lt;/ol&gt&lt;p&gt&lt;strong&gtReset the remote&lt;/strong&gt&lt;/p&gt &lt;p&gtPress and hold the programming button on the back of the remote until the LEDs stop flashing.  LEDs will flash green, amber, red, and then finally turn off (about 15 seconds).&lt;/p&gt &lt;p&gt&lt;strong&gtInclude the blind/shade in the Z-Wave network&lt;/strong&gt&lt;/p&gt &lt;p&gtFollow the manufacturer's directions for inclusion of the blind/shade.&lt;/p&gt &lt;p&gt&lt;strong&gtInclude the remote in the Z-Wave network&lt;/strong&gt&lt;/p&gt &lt;p&gtPut the primary controller in inclusion mode.  Press and hold the programming button on the back of the remote until the LEDs start flashing green (3-4 seconds).&lt;/p&gt &lt;p&gt&lt;strong&gtAssociate the remote to the blind/shade&lt;/strong&gt&lt;/p&gt &lt;p&gtPress and release the programming button on the back of the remote once.  The LEDs will flash green. Set the headrail of the blind/shade to associate a remote (typically holding the programming button on the headrail for 3 seconds until the LEDs flash green).  The remote should be associated with the blind/shade and the primary controller will allow the remote to act as secondary controller for the blind/shade.&lt;/p&gt &lt;br /&gt&lt;h2&gtExclusion Information&lt;/h2&gt&lt;p&gtFor exclusion, the remote must be reset and the remote node must be deleted manually from the primary controller.  To reset the remote, press and hold the programming button on the back of the remote until the LEDs stop flashing.  LEDs will flash green, amber, red, and then finally turn off (about 15 seconds).&lt;/p&gt</description>
    <category>RemoteControl</category>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="switch_binary" typeId="switch_binary">
        <label>Switch</label>
        <properties>
          <property name="binding:*:OnOffType">COMMAND_CLASS_SWITCH_BINARY</property>
        </properties>
      </channel>
      <channel id="blinds_control" typeId="blinds_control">
        <label>Rollershutter</label>
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
          <property name="binding:Command:StopMoveType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
          <property name="binding:Command:UpDownType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
        </properties>
      </channel>
      <channel id="switch_dimmer" typeId="switch_dimmer">
        <label>Dimmer [Deprecated]</label>
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
          <property name="binding:Command:OnOffType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
        </properties>
      </channel>
      <channel id="battery-level" typeId="system.battery-level">
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_BATTERY</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">Graber</property>
      <property name="modelId">RSZ1</property>
      <property name="manufacturerId">026E</property>
      <property name="manufacturerRef">5253:5A31</property>
      <property name="dbReference">585</property>
      <property name="defaultAssociations">1</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- GROUP DEFINITIONS -->
      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter name="group_1" type="text" groupName="association">
        <label>1: Lifeline</label>
        <description>Lifeline (primary controller)&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtSWITCH MULTILEVEL REPORT after movement&lt;br /&gtBATTERY STATUS after movement or critical status&lt;br /&gtDEVICE RESET LOCALLY&lt;/p&gt</description>
      </parameter>

      <!-- STATIC DEFINITIONS -->
      <parameter name="node_id" type="integer" min="1" max="232" readOnly="true" required="true">
        <label>Node ID</label>
        <advanced>true</advanced>
      </parameter>

    </config-description>

  </thing-type>

</thing:thing-descriptions>
