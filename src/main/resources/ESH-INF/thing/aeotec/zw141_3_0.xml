<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0
                      https://openhab.org/schemas/thing-description/v1.0.0">

  <thing-type id="aeotec_zw141_03_000" listed="false">
    <label>ZW141 Nano Shutter</label>
    <description>Nano Shutter&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtAeotec Nano Shutter is a Z-Wave motor controller specifically used to enable Z-Wave command and control (up/down/stop) for existing window covering motors. It can connect to 2 external manual switches/buttons to control the motor up/down/stop independently.&lt;/p&gt &lt;p&gtIts surface has a pin socket, which can be used for connecting to the touch panel, so you can also use the touch panel to control the Nano Shutter.&lt;/p&gt &lt;p&gtThe wireless module is powered from the mains supply. In the event of power failure, non-volatile memory retains all programmed information relating to the units operating status.  Nano Shutter is also a security Z-Wave plus device and supports Over The Air (OTA) feature for the products firmware upgrade.&lt;/p&gt &lt;p&gtIt can be a repeater in the Z-Wave network. Acting as a bridge for communication, it will forward Z-Wave command messages to their destinations if the originating controller is out of range from the destination node. &lt;/p&gt &lt;br /&gt&lt;h2&gtInclusion Information&lt;/h2&gt&lt;ol&gt&lt;li&gtSet your Z-Wave controller into pairing mode.&lt;/li&gt &lt;li&gtPress the Action Button on the Nano Dimmer or toggle the external manual switch once, the green LED (non-secure indication) will blink to indicate the Nano Dimmer is entering into pairing mode.&lt;/li&gt &lt;li&gtIf the Nano Dimmer has been successfully added to your Z-Wave network, its RGB LED will be solid. If the pairing was unsuccessful, the red LED will be on for 2 seconds and then remain a colourful gradient, repeat the instructions above from step 1.&lt;/li&gt &lt;/ol&gt&lt;br /&gt&lt;h2&gtExclusion Information&lt;/h2&gt&lt;ol&gt&lt;li&gtSet your Z-Wave controller into removal mode.&lt;/li&gt &lt;li&gtPress the Action Button 6 times on the Nano Dimmer or toggle the external manual switch 2 times in fast succession.&lt;/li&gt &lt;li&gtIf the Nano Dimmer has been successfully removed from your Z-Wave network, its RGB LED will remain colourful gradient. If the removal was unsuccessful, the RGB LED will still be solid (following the state of the output load), repeat the instructions above from step 1.&lt;/li&gt &lt;/ol&gt</description>
    <category>Blinds</category>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="blinds_control" typeId="blinds_control">
        <label>Blinds Control</label>
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_SWITCH_MULTILEVEL,COMMAND_CLASS_BASIC</property>
          <property name="binding:Command:StopMoveType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
          <property name="binding:Command:UpDownType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
        </properties>
      </channel>
      <channel id="scene_number" typeId="scene_number">
        <label>Scene Number</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_SCENE_ACTIVATION</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">Aeotec Limited</property>
      <property name="modelId">ZW141</property>
      <property name="manufacturerId">0371</property>
      <property name="manufacturerRef">0003:008D</property>
      <property name="versionMin">3.0</property>
      <property name="dbReference">1151</property>
      <property name="defaultAssociations">1</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- GROUP DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <!-- PARAMETER DEFINITIONS -->
      <parameter name="config_20_1" type="integer" groupName="configuration">
        <label>20: Motor Behaviour</label>
        <description>Motor behavior after Power ON</description>
        <default>0</default>
        <options>
          <option value="0">Stay (Default)</option>
          <option value="1">Moves to 99%</option>
          <option value="2">Moves to 0%</option>
        </options>
      </parameter>

      <parameter name="config_22_1" type="integer" groupName="configuration">
        <label>22: Motor Direction</label>
        <description>Determine motor run direction for Shutter Mode and Venetian Mode&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtDetermine motor run direction for Shutter mode and Venetian Mode:&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtMode / Value&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtFunction&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtShutter mode / Venetian mode :Out 1= Up moving/ Multilevel&amp;lt;br /&amp;amp;gtswitch = 99%, Out 2= Down moving/ Multilevel switch = 0%&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtShutter mode : Out 1= Down moving/ Multilevel switch = 0%,&amp;lt;br /&amp;amp;gtOut 2= Up moving/ Multilevel switch = 99%.&amp;lt;br /&amp;amp;gtVenetian mode :Out 1= Up moving/ Multilevel switch = 99%, Out&amp;lt;br /&amp;amp;gt2= Down moving/ Multilevel switch = 0%&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt2&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtShutter mode : Out 1= Up moving/ Multilevel switch = 99%, Out&amp;lt;br /&amp;amp;gt2= Down moving/ Multilevel switch = 0%&amp;lt;br /&amp;amp;gtVenetian mode: Out 1= Down moving/ Multilevel switch = 0%,&amp;lt;br /&amp;amp;gtOut 2= Up moving/ Multilevel switch = 99%.&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt3&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtShutter mode / Venetian mode : Out 1= Down moving/&amp;lt;br /&amp;amp;gtMultilevel switch = 0%, Out 2= Up moving/ Multilevel switch =&amp;lt;br /&amp;amp;gt99%.&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&amp;lt;p&amp;amp;gtNote:&amp;lt;br /&amp;amp;gt1.Motor will stop when receiving this command in moving;&amp;lt;br /&amp;amp;gt2.This configuration will not change after network exclusion.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Mode 0 (Default)</option>
          <option value="1">Mode 1</option>
          <option value="2">Mode 2</option>
          <option value="3">Mode 3</option>
        </options>
      </parameter>

      <parameter name="config_34_2" type="integer" groupName="configuration"
                 min="10" max="32767">
        <label>34: Blade Turn Time</label>
        <description>Blade Turn Time (Unit = 0.01 seconds)&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtNote:&amp;lt;/p&amp;amp;gt &amp;lt;ul&amp;amp;gt&amp;lt;li&amp;amp;gtFor Venetian, if this value is set too large for blade turning, curtain may move upwards or downwards.&amp;lt;/li&amp;amp;gt &amp;lt;li&amp;amp;gtCalibration need to work correctly.Or this setting will force the curtain to move up or down.&amp;lt;/li&amp;amp;gt &amp;lt;li&amp;amp;gtThis configuration will not change after network exclusion&amp;lt;/li&amp;amp;gt &amp;lt;/ul&amp;amp;gt&lt;/p&gt</description>
        <default>150</default>
      </parameter>

      <parameter name="config_35_2" type="integer" groupName="configuration"
                 min="500" max="32767">
        <label>35: Curtain Trip Time (Unit = 0.01 seconds)</label>
        <description>Curtain Trip Time&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtNote:&amp;lt;/p&amp;amp;gt &amp;lt;ul&amp;amp;gt&amp;lt;li&amp;amp;gtFor Venetian, if this value is set too large for curtain trip, blade turn positioning may cause errors.&amp;lt;/li&amp;amp;gt &amp;lt;li&amp;amp;gtThis configuration will not change after network exclusion&amp;lt;/li&amp;amp;gt &amp;lt;/ul&amp;amp;gt&lt;/p&gt</description>
        <default>15000</default>
      </parameter>

      <parameter name="config_36_1" type="integer" groupName="configuration">
        <label>36: Enter/Exit Calibration</label>
        <description>Enter/Exit Calibration&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtNote:&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtProduct will enter the right Curtain Mode after calibration, see configuration parameter 39.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Exit Calibration (Default)</option>
          <option value="1">Enter Shutter Mode Calibration</option>
          <option value="2">Enter Venetian Mode Calibration</option>
        </options>
      </parameter>

      <parameter name="config_37_1" type="integer" groupName="configuration">
        <label>37: Calibration Confirmation</label>
        <description>User confirmation for calibration (Set Only)</description>
        <default>0</default>
        <options>
          <option value="0">Do Nothing (Default)</option>
          <option value="1">Next Step</option>
        </options>
      </parameter>

      <parameter name="config_38_1" type="integer" groupName="configuration" readOnly="true">
        <label>38: Calibration Status</label>
        <description>Return Calibration Status (Get or Report)</description>
        <default>0</default>
        <options>
          <option value="0">Complete (Default)</option>
          <option value="1">-&amp;gt; Reference Point A</option>
          <option value="2">-&amp;gt; Reference Point B</option>
          <option value="3">Wait</option>
          <option value="4">-&amp;gt; Reference Point C</option>
          <option value="5">Terminated</option>
        </options>
      </parameter>

      <parameter name="config_39_1" type="integer" groupName="configuration">
        <label>39: Curtain Mode</label>
        <description>Set curtain mode&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtNote:&amp;lt;br /&amp;amp;gt1. This Operation will enter repositioning automatically;&amp;lt;br /&amp;amp;gt2. This configuration will not change after network exclusion&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Shutter Mode (Default)</option>
          <option value="1">Venetian Mode</option>
        </options>
      </parameter>

      <parameter name="config_40_1" type="integer" groupName="configuration">
        <label>40: Set Begin Repositioning</label>
        <description>Set Begin Repositioning</description>
        <default>0</default>
        <options>
          <option value="0">No Action</option>
          <option value="1">Begin Repositioning</option>
        </options>
      </parameter>

      <parameter name="config_41_1" type="integer" groupName="configuration" readOnly="true">
        <label>41: Get repositioning status</label>
        <default>0</default>
        <options>
          <option value="0">Complete</option>
          <option value="1">In Repositioning</option>
        </options>
      </parameter>

      <parameter name="config_42_1" type="integer" groupName="configuration">
        <label>42: Calibration Lock</label>
        <description>Used to enable/disable calibration lock</description>
        <default>1</default>
        <options>
          <option value="0">Disable</option>
          <option value="1">Enable Mode 1 (Default)</option>
          <option value="2">Enable Mode 2</option>
        </options>
      </parameter>

      <parameter name="config_80_1" type="integer" groupName="configuration">
        <label>80: Report Type</label>
        <description>Choose which report to send when switch status change</description>
        <default>2</default>
        <options>
          <option value="0">No Report</option>
          <option value="1">Basic Report</option>
          <option value="2">Multilevel Report</option>
        </options>
      </parameter>

      <parameter name="config_85_1" type="integer" groupName="configuration">
        <label>85: External Switch Mode</label>
        <description>Set External Button Operation Mode&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtSet Extern Button Operation Mode&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtFunction&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtS1/S2 map to Z-Wave Button&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gt &amp;lt;p&amp;amp;gtS1 = Open or Stop&amp;lt;br /&amp;amp;gtS2 = Close or Stop&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtNote:Operation will not change the curtain mode, including&amp;lt;br /&amp;amp;gtpress and hold ,short press.&amp;lt;/p&amp;amp;gt &amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt2&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gt &amp;lt;ol&amp;amp;gt&amp;lt;li&amp;amp;gtWhen configuration 0x78/79 = 03:&amp;lt;br /&amp;amp;gtPress and hold S1 :blade folds to 180°&amp;lt;br /&amp;amp;gtPress and hold S2：Blade folds to 0°&amp;lt;br /&amp;amp;gtShort press S1：Blinds go downwards&amp;lt;br /&amp;amp;gtShort press S2：Blinds go upwards&amp;lt;br /&amp;amp;gtNote: The device will change its curtain mode if it does not&amp;lt;br /&amp;amp;gtmatch the current mode.&amp;lt;/li&amp;amp;gt &amp;lt;li&amp;amp;gtWhen Configuration 0x78/79 = others:&amp;lt;br /&amp;amp;gtS1 = Open or Stop&amp;lt;br /&amp;amp;gtS2 = Close or Stop ,operation will not&amp;lt;br /&amp;amp;gtchange the curtain mode.&amp;lt;/li&amp;amp;gt &amp;lt;/ol&amp;amp;gt&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&amp;lt;p&amp;amp;gtNote: when setting value to 2, we advice not to set only one external switch&amp;lt;br /&amp;amp;gtto push button, do remember to change the controller channel before&amp;lt;br /&amp;amp;gtoperating push button, or the curtain level will be wrong.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Mode 0 (Default)</option>
          <option value="1">Mode 1</option>
          <option value="2">Mode 2</option>
        </options>
      </parameter>

      <parameter name="config_120_1" type="integer" groupName="configuration">
        <label>120: Type External Switch 1</label>
        <description>Set Switch Type of External Switch 1&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtReport automatically during identification&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0x55&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIn Indentification&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt2/3/4&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIdentification succeeded; returns switch type&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0x00&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIdentification failed&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Unidentified Mode (Default)</option>
          <option value="1">2-state Switch</option>
          <option value="2">3-way switch</option>
          <option value="3">Push Button Mode</option>
          <option value="4">Automatic Identification</option>
        </options>
      </parameter>

      <parameter name="config_121_1" type="integer" groupName="configuration">
        <label>121: Type External Switch 2</label>
        <description>Set Switch Type of External Switch 2&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtReport automatically during identification&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0x55&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIn Indentification&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt2/3/4&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIdentification succeeded; returns switch type&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0x00&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtIdentification failed&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Unidentified Mode (Default)</option>
          <option value="1">2-state Switch</option>
          <option value="2">3-way switch</option>
          <option value="3">Push Button Mode</option>
          <option value="4">Automatic Identification</option>
        </options>
      </parameter>

      <parameter name="config_243_16" type="integer" groupName="configuration" readOnly="true"
                 min="0" max="4294967295">
        <label>243: Get DSK from product</label>
        <description>To Get DSK from product</description>
        <default>0</default>
      </parameter>

      <parameter name="config_248_1" type="integer" groupName="configuration">
        <label>248: Enable/Disable External Switches</label>
        <description>Enable/disable function of external switches S1 &amp;amp;amp; S2</description>
        <default>1</default>
        <options>
          <option value="1">Enable Network Function (Default)</option>
          <option value="2">Enable Reset to Factory</option>
          <option value="3">Enable network and reset function</option>
        </options>
      </parameter>

      <parameter name="config_251_1" type="integer" groupName="configuration">
        <label>251: Reset to Factory / Exclusion Function</label>
        <description>Reset to Factory / Exclusion Function&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtEnable/disable reset to factory default and exclusion function by long press on touch panel and press 6 times on wall swipe&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>1</default>
        <options>
          <option value="0">Disable</option>
          <option value="1">Enable (Default)</option>
        </options>
      </parameter>

      <parameter name="config_255_4_wo" type="integer" groupName="configuration">
        <label>255: Reset function</label>
        <description>Reset function&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtWhen the command be valid：&amp;lt;br /&amp;amp;gt1.The Re-Calibration task and Calibration task will be abort if they are&amp;lt;br /&amp;amp;gtrunning.&amp;lt;br /&amp;amp;gt2.The motor will stop if it's working&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
        <options>
          <option value="0">Reset all configuration</option>
          <option value="1431655765">Reset to factory default</option>
        </options>
        <advanced>true</advanced>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter name="group_1" type="text" groupName="association" multiple="true">
        <label>1: Lifeline</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;ol&gt&lt;li&gtDevice Reset Local ly Notification(0x5A01):&lt;br /&gtSend after device reset.&lt;/li&gt &lt;li&gtSwitch Multi level Report (0x2603):&lt;br /&gtSend after shutter stop moving.&lt;/li&gt &lt;li&gtBasic Report(0x2003):&lt;br /&gtSend after shutter stop moving. (need to set&lt;br /&gtconfiguration CC)&lt;/li&gt &lt;li&gtCentral Scene Notification(0x5B03) :&lt;br /&gtSend when press S1/S2&lt;/li&gt &lt;li&gtConfiguration Report(0x7006):&lt;br /&gtSend shutter calibration and repositioning status&lt;/li&gt &lt;/ol&gt</description>
        <multipleLimit>5</multipleLimit>
      </parameter>

      <parameter name="group_2" type="text" groupName="association" multiple="true">
        <label>2: Retransmit</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtRetransmit when receiving the follow commands:&lt;br /&gtBASIC_SET&lt;br /&gtSWITCH_MULTILEVEL_SET&lt;br /&gtSWITCH_MULTILEVEL_START_LEVEL_CHANGE&lt;br /&gtSWITCH_MULTILEVEL_STOP_LEVEL_CHANGE&lt;br /&gtSCENE_ACTIVATION_SET&lt;/p&gt</description>
        <multipleLimit>5</multipleLimit>
      </parameter>

      <!-- STATIC DEFINITIONS -->
      <parameter name="node_id" type="integer" min="1" max="232" readOnly="true" required="true">
        <label>Node ID</label>
        <advanced>true</advanced>
      </parameter>

    </config-description>

  </thing-type>

</thing:thing-descriptions>
