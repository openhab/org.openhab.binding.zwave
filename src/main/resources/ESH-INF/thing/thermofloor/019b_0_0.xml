<?xml version="1.0" encoding="UTF-8"?>
<thing:thing-descriptions bindingId="zwave"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:thing="https://openhab.org/schemas/thing-description/v1.0.0"
  xsi:schemaLocation="https://openhab.org/schemas/thing-description/v1.0.0
                      https://openhab.org/schemas/thing-description/v1.0.0">

  <thing-type id="thermofloor_019b_00_000" listed="false">
    <label>HeatIt ZDim Knob Smart Dimmer</label>
    <description>Knob Smart Dimmer&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtZ-Wave rotary dimmer for different light sources. The LED dimmer dims at low load without the light flickering. Dimmer LED from 1-200VA, 230V halogen and incandescent bulbs, dimmable LED drivers and electronic transformers. Not affected by additional starting currents. Need L + N conductor connected.&lt;/p&gt &lt;p&gtThe dimmer has end-turn function. This allows you to turn on the light and dimming with one dimmer, and then turn off the light with another dimmer. Convenient for example in stairs and corridors.&lt;/p&gt &lt;p&gtThe dimmer fits into standard Elko, Schneider Exxact and Gira System 55 frame systems.&lt;/p&gt &lt;br /&gt&lt;h2&gtInclusion Information&lt;/h2&gt&lt;p&gtWhen the primary controller is set to add/remove modus press the main button on the dimmer 6 times in a rapid sequence.&lt;/p&gt &lt;br /&gt&lt;h2&gtExclusion Information&lt;/h2&gt&lt;p&gtWhen the primary controller is set to add/remove modus press the main button on the dimmer 6 times in a rapid sequence.&lt;/p&gt</description>
    <category>WallSwitch</category>

    <!-- CHANNEL DEFINITIONS -->
    <channels>
      <channel id="switch_dimmer" typeId="switch_dimmer">
        <label>Dimmer</label>
        <properties>
          <property name="binding:*:PercentType">COMMAND_CLASS_SWITCH_MULTILEVEL,COMMAND_CLASS_BASIC</property>
          <property name="binding:Command:OnOffType">COMMAND_CLASS_SWITCH_MULTILEVEL</property>
        </properties>
      </channel>
      <channel id="meter_kwh" typeId="meter_kwh">
        <label>Electric meter (kWh)</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER;type=E_KWh</property>
        </properties>
      </channel>
      <channel id="meter_watts" typeId="meter_watts">
        <label>Electric meter (watts)</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_METER;type=E_W</property>
        </properties>
      </channel>
      <channel id="scene_number" typeId="scene_number">
        <label>Scene Number</label>
        <properties>
          <property name="binding:*:DecimalType">COMMAND_CLASS_CENTRAL_SCENE</property>
        </properties>
      </channel>
    </channels>

    <!-- DEVICE PROPERTY DEFINITIONS -->
    <properties>
      <property name="vendor">ThermoFloor</property>
      <property name="modelId">HeatIt ZDim</property>
      <property name="manufacturerId">019B</property>
      <property name="manufacturerRef">0003:2200</property>
      <property name="dbReference">1124</property>
      <property name="defaultAssociations">1,2,3</property>
    </properties>

    <!-- CONFIGURATION DESCRIPTIONS -->
    <config-description>

      <!-- GROUP DEFINITIONS -->
      <parameter-group name="configuration">
        <context>setup</context>
        <label>Configuration Parameters</label>
      </parameter-group>

      <parameter-group name="association">
        <context>link</context>
        <label>Association Groups</label>
      </parameter-group>

      <!-- PARAMETER DEFINITIONS -->
      <parameter name="config_1_1" type="integer" groupName="configuration"
                 min="0" max="200">
        <label>1: Connected Load</label>
        <description>Defines the value of connected load&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDescription&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtNot configured (Default)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1-200&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gt1-200 Watts connected load&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
      </parameter>

      <parameter name="config_2_1" type="integer" groupName="configuration"
                 min="1" max="98">
        <label>2: Minimum Dim level</label>
        <description>Defines the lowest dimming level&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThis parameter defines the lowest dimming level of the dimmer.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtThe value must be lower than parameter 3 ”Maximum Dim Level”. &amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDescription&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1-98&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gt1% - 98% Default is 20 (20%)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>20</default>
      </parameter>

      <parameter name="config_3_1" type="integer" groupName="configuration"
                 min="2" max="99">
        <label>3: Maximum Dim level</label>
        <description>Defines the highest dimming level of the dimmer&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThis parameter defines the highest dimming level of the dimmer.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtThe value must be higher than parameter 2 ”Minimum Dim Level”.&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>85</default>
      </parameter>

      <parameter name="config_4_1" type="integer" groupName="configuration"
                 min="5" max="255">
        <label>4: Total steps</label>
        <description>How many steps it should take to dim from min to max&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThis parameter defines how many steps it should take to dim from minimum to maximum dim level (One round = 20 steps)&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtDefault is 15 (3/4 round)&amp;lt;/p&amp;amp;gt&lt;/p&gt</description>
        <default>15</default>
      </parameter>

      <parameter name="config_5_1" type="integer" groupName="configuration" readOnly="true">
        <label>5: Double press function</label>
        <description>Defines the double press functionality</description>
        <default>0</default>
        <options>
          <option value="0">Disabled</option>
          <option value="1">Dim to highest level</option>
        </options>
      </parameter>

      <parameter name="config_6_1" type="integer" groupName="configuration">
        <label>6: Scene controller</label>
        <description>Enables scene controller</description>
        <default>1</default>
        <options>
          <option value="0">Disabled</option>
          <option value="1">Active (Default)</option>
        </options>
      </parameter>

      <parameter name="config_7_1" type="integer" groupName="configuration"
                 min="0" max="99">
        <label>7: Switch ON level</label>
        <description>Defines the dim level when restored from OFF state by push button&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThis parameter defines the dimming level when restored from OFF state by push button&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDescription&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtRestores last dim level (Default)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1-99&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gt1% - 99%&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>0</default>
      </parameter>

      <parameter name="config_8_1" type="integer" groupName="configuration"
                 min="0" max="255">
        <label>8: Dimming Duration</label>
        <description>Defines how long it takes to dim to desired level.&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;p&amp;amp;gtThis parameter defines how long it takes to dim to desired level.&amp;lt;/p&amp;amp;gt &amp;lt;p&amp;amp;gtNote! Only Multilevel Switch Command Class is affected by this parameter.&amp;lt;/p&amp;amp;gt &amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDescription&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDisabled&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt1-127&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDuration in seconds (1 - 127 seconds. Default is 1)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt128-255&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDuration in minutes (1 - 127 minutes)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>1</default>
      </parameter>

      <parameter name="config_9_2" type="integer" groupName="configuration"
                 min="0" max="32767">
        <label>9: Meter Report Interval</label>
        <description>Defines report interval for Power Metering&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gt&amp;lt;table&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gtValue&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDescription&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt0&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDisabled&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;tr&amp;amp;gt&amp;lt;td&amp;amp;gt30-32767&amp;lt;/td&amp;amp;gt &amp;lt;td&amp;amp;gtDuration in seconds (30 - 32 767. Default is 60)&amp;lt;/td&amp;amp;gt &amp;lt;/tr&amp;amp;gt&amp;lt;/table&amp;amp;gt&lt;/p&gt</description>
        <default>60</default>
      </parameter>

      <parameter name="config_10_1" type="integer" groupName="configuration"
                 min="1" max="99">
        <label>10: Power restore level</label>
        <description>Defines initial dimming level after power loss.</description>
        <default>50</default>
      </parameter>

      <!-- ASSOCIATION DEFINITIONS -->
      <parameter name="group_1" type="text" groupName="association" multiple="true">
        <label>1: Lifeline</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtLifeline. (Normally used by the Z-Wave Controller)&lt;/p&gt &lt;p&gtSends:&lt;/p&gt &lt;ul&gt&lt;li&gtMultilevel Switch Report&lt;/li&gt &lt;li&gtMeter Report&lt;/li&gt &lt;li&gtDevice Reset Locally&lt;/li&gt &lt;li&gtCentral Scene Notification&lt;/li&gt &lt;/ul&gt</description>
        <multipleLimit>8</multipleLimit>
      </parameter>

      <parameter name="group_2" type="text" groupName="association" multiple="true">
        <label>2: Dimming level</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtBasic Set: is usually used to controll other dimmer devices.&lt;/p&gt</description>
        <multipleLimit>8</multipleLimit>
      </parameter>

      <parameter name="group_3" type="text" groupName="association" multiple="true">
        <label>3: State of Device ON/OFF</label>
        <description>&lt;br /&gt&lt;h1&gtOverview&lt;/h1&gt&lt;p&gtBinary Switch Set: is usually used to control other ON/OFF devices. &lt;/p&gt</description>
        <multipleLimit>8</multipleLimit>
      </parameter>

      <!-- STATIC DEFINITIONS -->
      <parameter name="node_id" type="integer" min="1" max="232" readOnly="true" required="true">
        <label>Node ID</label>
        <advanced>true</advanced>
      </parameter>

    </config-description>

  </thing-type>

</thing:thing-descriptions>
